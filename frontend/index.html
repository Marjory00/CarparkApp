<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CarparkApp - Management Console</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>

    <div class="container">
        <h1>CarparkApp Console</h1>
        <p>Digital Management for Guest Parking and Visitor Access</p>

        <div class="tab-buttons">
            <button class="tab-button active" data-tab="passes">Guest Passes</button>
            <button class="tab-button" data-tab="log">Visitor Log</button>
            <button class="tab-button" data-tab="concierge">Concierge Services</button>
        </div>

        <div class="tab-content active" id="passes">
            <h2>Digital Parking Guest Pass</h2>
            
            <form id="parking-form" class="form-grid">
                <div class="form-group">
                    <label for="plate">License Plate Number:</label>
                    <input type="text" id="plate" required maxlength="10">
                </div>
                <div class="form-group">
                    <label for="passUnit">Unit Being Visited:</label>
                    <input type="text" id="passUnit" required maxlength="5">
                </div>
                <div class="form-group">
                    <label for="passDuration">Duration (Hours):</label>
                    <select id="passDuration" required>
                        <option value="4" selected>4 Hours (Standard)</option>
                        <option value="8">8 Hours</option>
                        <option value="12">12 Hours</option>
                        <option value="24">24 Hours</option>
                    </select>
                </div>
                <button type="submit" class="submit-btn full-width-btn">
                    <i class="fas fa-car"></i> Request Digital Parking Pass
                </button>
            </form>

            <div id="pass-preview-section" class="hidden-preview">
                </div>

            <h3>Active Digital Passes</h3>
            <p id="no-passes" class="info-message">Loading active passes...</p>
            <ul id="active-passes-list">
                </ul>
        </div>

        <div class="tab-content" id="log">
            <h2>Visitor Check-In / Check-Out</h2>

            <form id="visitor-form" class="form-grid">
                <div class="form-group">
                    <label for="visitorName">Visitor Name:</label>
                    <input type="text" id="visitorName" required>
                </div>
                <div class="form-group">
                    <label for="unitName">Unit Visited:</label>
                    <input type="text" id="unitName" required>
                </div>
                <div class="form-group">
                    <label for="visitorType">Visitor Type:</label>
                    <select id="visitorType" required>
                        <option value="Guest">Guest</option>
                        <option value="Contractor">Contractor/Service</option>
                        <option value="Delivery">Delivery</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="guestPass">Related Guest Pass ID (Optional):</label>
                    <input type="text" id="guestPass" placeholder="e.g., GP-1234">
                </div>
                <div class="form-group full-width-group">
                    <label for="notes">Notes:</label>
                    <textarea id="notes" rows="2"></textarea>
                </div>
                <button type="submit" class="submit-btn full-width-btn">
                    <i class="fas fa-user-plus"></i> Check In Visitor
                </button>
            </form>

            <h3>Current & Recent Visitor Log</h3>
            <p id="no-visitors" class="info-message">Loading visitor log...</p>
            
            <div class="table-container">
                <table class="visitor-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Unit</th>
                            <th>Type</th>
                            <th>Check-In</th>
                            <th>Check-Out</th>
                            <th>Pass ID</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="visitor-log-body">
                        </tbody>
                </table>
            </div>
        </div>

        <div class="tab-content" id="concierge">
            <h2>Concierge Services</h2>
            <p>Use this area to send administrative requests or notifications to the management team.</p>
            
            <button onclick="window.openModal('concierge-modal')" class="submit-btn full-width-btn">
                <i class="fas fa-envelope"></i> Send Email Request
            </button>
        </div>

    </div>

    <div id="concierge-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="window.closeModal('concierge-modal')">&times;</span>
            <h4>New Concierge Request</h4>
            <form id="concierge-email-form">
                <div class="form-group">
                    <label for="modalName">Your Name:</label>
                    <input type="text" id="modalName" required>
                </div>
                <div class="form-group">
                    <label for="modalSubject">Subject:</label>
                    <input type="text" id="modalSubject" required>
                </div>
                <div class="form-group">
                    <label for="modalBody">Message:</label>
                    <textarea id="modalBody" required></textarea>
                </div>
                <button type="submit" class="submit-btn">Send Request</button>
            </form>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>